---
title: 道路交通分配
permalink: /tutorials/emme/traffic assignment/
---


以下，以emme的交通分配为例

## 1、EMME常规交通分配

### 1.1、常见交通分配方法
交通分配分为Highway分配和公交分配，两者独立运行。Hightway分配方法主要包括：Sola traffic assignment、PToll traffic assignment、Stochastic traffic assignment、Standard traffic assignment、Path-based traffic assignment、Space-time traffic assignment、system-optimal assignment等。EMME中的交通分配问题都是基于传统标准的用户均衡理论的快速收敛的网络平衡模型。不同的方法主要在于考虑的对象内容，收敛速度以及快速求解过程的区别。


-  **SOLA traffic assignment**一种基于线性近似方法的快速收敛的用户最优均衡交通分配。 它可以在共享内存计算平台上的单个处理器或多个处理器上运行,推荐使用。 
-  **PToll Traffic Assignment**部分基于快速收敛的SOLA流量分配，PToll流量分配提供了更简单，更全面的收费模型。 
-  **Stochastic Traffic Assignment**随机用户均衡（SUE）分配，它计算多个多类均衡分配的平均值，使用某种分配函数来影响link的cost。 用于不仅仅由于拥塞而导致多径效应的应用，或者用于UE分配可能导致全有或全部分配的应用，例如在农村，区域等。 
-  **Standard Traffic Assignment**基于线性逼近算法[FrankWolfe1956]的改进的标准用户最佳均衡交通分配。 它也可以在单个处理器或多个处理器上执行。 
-  **Path-based Traffic Assignment**快速收敛的用户最佳均衡流量分配可提供更好的性能，更好的收敛和更快的基于路径的结果分析。 它基于投影梯度方法的求解。 
-  **Space-time Traffic Assignment**一种准动态流量分配方法，它利用现有的网络拓扑和延迟功能来执行与时间有关的网络加载。 需求矩阵可能是经过时间配置的，并且网络负载随着流量在网络中的流动而随时间变化。 推荐用于州，国家或长途旅行的模型，在这些模型中，长途旅行不应同时加载所有时间段。 
-  **System-optimal assignment**系统最优分配，基于Wardrop的第二原理 
## 2、Sola traffic assignment的原理

### 2.1、原理
该算法基于用户均衡理论，满足wardrop原理，即网络平衡时，每个OD对的径路具有相等和最小的费用阻抗。
![image.png](/assets/images/emme/1667285842678-5bcddacd-4130-4f47-97a0-d719755ce7d0.png)


### 2.2、计算过程
![image.png](/assets/images/emme/1667285855932-2d837fdf-ebdb-449d-b13f-0159e616ad5b.png)
![image.png](/assets/images/emme/1667285865588-b5c638cb-5f46-45a6-8d07-2ccf33613f95.png)


## 3、EMME设置操作方法
### 3.1、背景交通量


- 可以在link，turn添加背景流量
- 可以添加公交车辆折算的标准车数量，需要先进行公交分配
![image.png](/assets/images/emme/1667285891251-2770a4e0-5829-4260-b612-c0ec194f3e0f.png)


### 3.2、类别设置
Link cost是除了时间外要考虑的阻抗，是不同属性的组合值。Perception factor表示感受因子，如果Linkcost表示为费用，那么该参数可以理解为时间价值的倒数，将费用转化为时间。![image.png](./6.3.1-道路分配.assert/1667285911101-016b9291-6b25-4508-89ff-bd298a6d8526.png)


### 3.3、属性统计计算


- 对每一个class做skim，统计时间，距离，费用矩阵。
- 可以做select link analysis
- 可以保存link，turn上不同的class的流量
![image.png](/assets/images/emme/1667285926951-7f8ae8f3-d1b8-430c-bfca-43367331fb15.png)


### 3.4、迭代停止和多线程设置
![image.png](/assets/images/emme/1667285938005-914f3398-dfc3-4906-af4a-e74992f2c1b2.png)

